import { ɵBaseRegistry } from '../base-registry';
import { checkOnlyOneRegistration, checkTypeNameFormat } from '../element-registration-checker';
/**
 * @internal
 */
export const viewElementRegistryKey = 'ViewElementRegistry';
/**
 * @internal
 * @hostPublicApi available through window.creatio.registry.ValidatorRegistry
 */
export class ViewElementRegistry extends ɵBaseRegistry {
    static validate(config) {
        checkTypeNameFormat(config.type, 'ViewElementTypeName');
        checkOnlyOneRegistration(config.type, config, ViewElementRegistry.viewElements);
    }
    static get viewElements() {
        return this.store.typeInfos;
    }
    static register(config) {
        this.viewElements.set(config.type, config);
    }
    static getFormControlRelatesAttribute(type) {
        const config = this.store.typeInfos.get(type);
        return (config && 'formControlConfig' in config && config.formControlConfig?.relatesTo) || null;
    }
}
ViewElementRegistry.registryKey = viewElementRegistryKey;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlldy1lbGVtZW50LXJlZ2lzdHJ5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbGlicy9kZXZraXQvY29tbW9uL3NyYy9saWIvaW50ZXJuYWwvc2VydmljZXMvdmlldy1lbGVtZW50LXJlZ2lzdHJ5L3ZpZXctZWxlbWVudC1yZWdpc3RyeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDakQsT0FBTyxFQUFFLHdCQUF3QixFQUFFLG1CQUFtQixFQUFFLE1BQU0saUNBQWlDLENBQUM7QUFFaEc7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxzQkFBc0IsR0FBRyxxQkFBcUIsQ0FBQztBQUU1RDs7O0dBR0c7QUFDSCxNQUFNLE9BQU8sbUJBQW9CLFNBQVEsYUFBYTtJQUc5QyxNQUFNLENBQUMsUUFBUSxDQUFDLE1BQXlDO1FBQy9ELG1CQUFtQixDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUscUJBQXFCLENBQUMsQ0FBQztRQUN4RCx3QkFBd0IsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxtQkFBbUIsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUNqRixDQUFDO0lBRU0sTUFBTSxLQUFLLFlBQVk7UUFDN0IsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQztJQUM3QixDQUFDO0lBRU0sTUFBTSxDQUFDLFFBQVEsQ0FBQyxNQUErQjtRQUNyRCxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQzVDLENBQUM7SUFFTSxNQUFNLENBQUMsOEJBQThCLENBQUMsSUFBWTtRQUN4RCxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDOUMsT0FBTyxDQUFDLE1BQU0sSUFBSSxtQkFBbUIsSUFBSSxNQUFNLElBQUksTUFBTSxDQUFDLGlCQUFpQixFQUFFLFNBQVMsQ0FBQyxJQUFJLElBQUksQ0FBQztJQUNqRyxDQUFDOztBQWxCa0MsK0JBQVcsR0FBRyxzQkFBc0IsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2VWaWV3RWxlbWVudFJlZ2lzdHJhdGlvbkNvbmZpZyB9IGZyb20gJy4uLy4uLy4uL3B1YmxpYy9tb2RlbHMnO1xuaW1wb3J0IHsgVmlld0VsZW1lbnRSZWdpc3RyeUl0ZW0gfSBmcm9tICcuLi8uLi9tb2RlbHMnO1xuaW1wb3J0IHsgybVCYXNlUmVnaXN0cnkgfSBmcm9tICcuLi9iYXNlLXJlZ2lzdHJ5JztcbmltcG9ydCB7IGNoZWNrT25seU9uZVJlZ2lzdHJhdGlvbiwgY2hlY2tUeXBlTmFtZUZvcm1hdCB9IGZyb20gJy4uL2VsZW1lbnQtcmVnaXN0cmF0aW9uLWNoZWNrZXInO1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3Qgdmlld0VsZW1lbnRSZWdpc3RyeUtleSA9ICdWaWV3RWxlbWVudFJlZ2lzdHJ5JztcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIEBob3N0UHVibGljQXBpIGF2YWlsYWJsZSB0aHJvdWdoIHdpbmRvdy5jcmVhdGlvLnJlZ2lzdHJ5LlZhbGlkYXRvclJlZ2lzdHJ5XG4gKi9cbmV4cG9ydCBjbGFzcyBWaWV3RWxlbWVudFJlZ2lzdHJ5IGV4dGVuZHMgybVCYXNlUmVnaXN0cnkge1xuXHRwcm90ZWN0ZWQgc3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IHJlZ2lzdHJ5S2V5ID0gdmlld0VsZW1lbnRSZWdpc3RyeUtleTtcblxuXHRwdWJsaWMgc3RhdGljIHZhbGlkYXRlKGNvbmZpZzogQmFzZVZpZXdFbGVtZW50UmVnaXN0cmF0aW9uQ29uZmlnKTogdm9pZCB7XG5cdFx0Y2hlY2tUeXBlTmFtZUZvcm1hdChjb25maWcudHlwZSwgJ1ZpZXdFbGVtZW50VHlwZU5hbWUnKTtcblx0XHRjaGVja09ubHlPbmVSZWdpc3RyYXRpb24oY29uZmlnLnR5cGUsIGNvbmZpZywgVmlld0VsZW1lbnRSZWdpc3RyeS52aWV3RWxlbWVudHMpO1xuXHR9XG5cblx0cHVibGljIHN0YXRpYyBnZXQgdmlld0VsZW1lbnRzKCk6IE1hcDxzdHJpbmcsIFZpZXdFbGVtZW50UmVnaXN0cnlJdGVtPiB7XG5cdFx0cmV0dXJuIHRoaXMuc3RvcmUudHlwZUluZm9zO1xuXHR9XG5cblx0cHVibGljIHN0YXRpYyByZWdpc3Rlcihjb25maWc6IFZpZXdFbGVtZW50UmVnaXN0cnlJdGVtKTogdm9pZCB7XG5cdFx0dGhpcy52aWV3RWxlbWVudHMuc2V0KGNvbmZpZy50eXBlLCBjb25maWcpO1xuXHR9XG5cblx0cHVibGljIHN0YXRpYyBnZXRGb3JtQ29udHJvbFJlbGF0ZXNBdHRyaWJ1dGUodHlwZTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XG5cdFx0Y29uc3QgY29uZmlnID0gdGhpcy5zdG9yZS50eXBlSW5mb3MuZ2V0KHR5cGUpO1xuXHRcdHJldHVybiAoY29uZmlnICYmICdmb3JtQ29udHJvbENvbmZpZycgaW4gY29uZmlnICYmIGNvbmZpZy5mb3JtQ29udHJvbENvbmZpZz8ucmVsYXRlc1RvKSB8fCBudWxsO1xuXHR9XG59XG4iXX0=