import { HandlerChainServicesRegistry } from '../../internal/services';
import { getHandlerChainServiceMetadata, getModuleMetadata } from '../../internal/utils';
/**
 * @internal
 */
function registerHandlerChainServices(types) {
    types?.forEach((type) => {
        const registrationConfig = getHandlerChainServiceMetadata(type);
        HandlerChainServicesRegistry.register(registrationConfig);
    });
}
/**
 * @internal
 */
function _bootstrapCrtModuleHandlerChainServices(type) {
    const moduleDefinition = getModuleMetadata(type);
    if (moduleDefinition.handlerChainServices) {
        registerHandlerChainServices(moduleDefinition.handlerChainServices);
    }
    moduleDefinition.includes?.forEach((t) => _bootstrapCrtModuleHandlerChainServices(t));
}
/**
 * @internal
 */
export function bootstrapCrtModuleHandlerChainServices(type) {
    _bootstrapCrtModuleHandlerChainServices(type);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYm9vdHN0cmFwLWNydC1tb2R1bGUtaGFuZGxlci1jaGFpbi1zZXJ2aWNlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvZGV2a2l0L2NvbW1vbi9zcmMvbGliL3B1YmxpYy9mdW5jdGlvbnMvYm9vdHN0cmFwLWNydC1tb2R1bGUtaGFuZGxlci1jaGFpbi1zZXJ2aWNlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsNEJBQTRCLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUN2RSxPQUFPLEVBQUUsOEJBQThCLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUV6Rjs7R0FFRztBQUNILFNBQVMsNEJBQTRCLENBQUMsS0FBa0M7SUFDdkUsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFO1FBQ3ZCLE1BQU0sa0JBQWtCLEdBQUcsOEJBQThCLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDaEUsNEJBQTRCLENBQUMsUUFBUSxDQUFDLGtCQUFrQixDQUFDLENBQUM7SUFDM0QsQ0FBQyxDQUFDLENBQUM7QUFDSixDQUFDO0FBRUQ7O0dBRUc7QUFDSCxTQUFTLHVDQUF1QyxDQUFDLElBQVU7SUFDMUQsTUFBTSxnQkFBZ0IsR0FBRyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNqRCxJQUFJLGdCQUFnQixDQUFDLG9CQUFvQixFQUFFO1FBQzFDLDRCQUE0QixDQUFDLGdCQUFnQixDQUFDLG9CQUFvQixDQUFDLENBQUM7S0FDcEU7SUFDRCxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyx1Q0FBdUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3ZGLENBQUM7QUFFRDs7R0FFRztBQUNILE1BQU0sVUFBVSxzQ0FBc0MsQ0FBQyxJQUFVO0lBQ2hFLHVDQUF1QyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQy9DLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUeXBlIH0gZnJvbSAnLi4vLi4vYmFzZS1leHBvcnRzJztcbmltcG9ydCB7IEhhbmRsZXJDaGFpblNlcnZpY2VzUmVnaXN0cnkgfSBmcm9tICcuLi8uLi9pbnRlcm5hbC9zZXJ2aWNlcyc7XG5pbXBvcnQgeyBnZXRIYW5kbGVyQ2hhaW5TZXJ2aWNlTWV0YWRhdGEsIGdldE1vZHVsZU1ldGFkYXRhIH0gZnJvbSAnLi4vLi4vaW50ZXJuYWwvdXRpbHMnO1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiByZWdpc3RlckhhbmRsZXJDaGFpblNlcnZpY2VzKHR5cGVzOiBUeXBlPHVua25vd24+W10gfCB1bmRlZmluZWQpOiB2b2lkIHtcblx0dHlwZXM/LmZvckVhY2goKHR5cGUpID0+IHtcblx0XHRjb25zdCByZWdpc3RyYXRpb25Db25maWcgPSBnZXRIYW5kbGVyQ2hhaW5TZXJ2aWNlTWV0YWRhdGEodHlwZSk7XG5cdFx0SGFuZGxlckNoYWluU2VydmljZXNSZWdpc3RyeS5yZWdpc3RlcihyZWdpc3RyYXRpb25Db25maWcpO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gX2Jvb3RzdHJhcENydE1vZHVsZUhhbmRsZXJDaGFpblNlcnZpY2VzKHR5cGU6IFR5cGUpOiB2b2lkIHtcblx0Y29uc3QgbW9kdWxlRGVmaW5pdGlvbiA9IGdldE1vZHVsZU1ldGFkYXRhKHR5cGUpO1xuXHRpZiAobW9kdWxlRGVmaW5pdGlvbi5oYW5kbGVyQ2hhaW5TZXJ2aWNlcykge1xuXHRcdHJlZ2lzdGVySGFuZGxlckNoYWluU2VydmljZXMobW9kdWxlRGVmaW5pdGlvbi5oYW5kbGVyQ2hhaW5TZXJ2aWNlcyk7XG5cdH1cblx0bW9kdWxlRGVmaW5pdGlvbi5pbmNsdWRlcz8uZm9yRWFjaCgodCkgPT4gX2Jvb3RzdHJhcENydE1vZHVsZUhhbmRsZXJDaGFpblNlcnZpY2VzKHQpKTtcbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJvb3RzdHJhcENydE1vZHVsZUhhbmRsZXJDaGFpblNlcnZpY2VzKHR5cGU6IFR5cGUpOiB2b2lkIHtcblx0X2Jvb3RzdHJhcENydE1vZHVsZUhhbmRsZXJDaGFpblNlcnZpY2VzKHR5cGUpO1xufVxuIl19