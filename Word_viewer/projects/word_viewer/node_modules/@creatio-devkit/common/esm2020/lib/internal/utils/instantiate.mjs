import { getTypeDependencies } from './metadata-utils';
/**
 * @internal
 */
export function instantiate(type, resolveDependency) {
    const deps = getTypeDependencies(type);
    if (deps.length > 0) {
        if (!resolveDependency) {
            throw new Error(`Cannot resolve dependencies for ${type.name}. ` +
                "Please provide 'resolveDependency' bootstrap option");
        }
        const depInstances = deps.map(resolveDependency);
        return new type(...depInstances);
    }
    return new type();
}
/**
 * @public
 * @description For internal use only.
 */
export function Éµinstantiate(type, resolveDependency) {
    return instantiate(type, resolveDependency);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5zdGFudGlhdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL2RldmtpdC9jb21tb24vc3JjL2xpYi9pbnRlcm5hbC91dGlscy9pbnN0YW50aWF0ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUd2RDs7R0FFRztBQUNILE1BQU0sVUFBVSxXQUFXLENBQWMsSUFBYSxFQUFFLGlCQUFrRDtJQUN6RyxNQUFNLElBQUksR0FBRyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN2QyxJQUFJLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1FBQ3BCLElBQUksQ0FBQyxpQkFBaUIsRUFBRTtZQUN2QixNQUFNLElBQUksS0FBSyxDQUNkLG1DQUFtQyxJQUFJLENBQUMsSUFBSSxJQUFJO2dCQUMvQyxxREFBcUQsQ0FDdEQsQ0FBQztTQUNGO1FBQ0QsTUFBTSxZQUFZLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1FBQ2pELE9BQU8sSUFBSSxJQUFJLENBQUMsR0FBRyxZQUFZLENBQUMsQ0FBQztLQUNqQztJQUNELE9BQU8sSUFBSSxJQUFJLEVBQUUsQ0FBQztBQUNuQixDQUFDO0FBRUQ7OztHQUdHO0FBQ0gsTUFBTSxVQUFVLFlBQVksQ0FBYyxJQUFhLEVBQUUsaUJBQWtEO0lBQzFHLE9BQU8sV0FBVyxDQUFJLElBQUksRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO0FBQ2hELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRUeXBlRGVwZW5kZW5jaWVzIH0gZnJvbSAnLi9tZXRhZGF0YS11dGlscyc7XG5pbXBvcnQge1Jlc29sdmVEZXBlbmRlbmN5Rm4sIFR5cGV9IGZyb20gJy4uLy4uL2Jhc2UtZXhwb3J0cyc7XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnN0YW50aWF0ZTxUID0gdW5rbm93bj4odHlwZTogVHlwZTxUPiwgcmVzb2x2ZURlcGVuZGVuY3k6IFJlc29sdmVEZXBlbmRlbmN5Rm4gfCB1bmRlZmluZWQpOiBUIHtcblx0Y29uc3QgZGVwcyA9IGdldFR5cGVEZXBlbmRlbmNpZXModHlwZSk7XG5cdGlmIChkZXBzLmxlbmd0aCA+IDApIHtcblx0XHRpZiAoIXJlc29sdmVEZXBlbmRlbmN5KSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdGBDYW5ub3QgcmVzb2x2ZSBkZXBlbmRlbmNpZXMgZm9yICR7dHlwZS5uYW1lfS4gYCArXG5cdFx0XHRcdFx0XCJQbGVhc2UgcHJvdmlkZSAncmVzb2x2ZURlcGVuZGVuY3knIGJvb3RzdHJhcCBvcHRpb25cIixcblx0XHRcdCk7XG5cdFx0fVxuXHRcdGNvbnN0IGRlcEluc3RhbmNlcyA9IGRlcHMubWFwKHJlc29sdmVEZXBlbmRlbmN5KTtcblx0XHRyZXR1cm4gbmV3IHR5cGUoLi4uZGVwSW5zdGFuY2VzKTtcblx0fVxuXHRyZXR1cm4gbmV3IHR5cGUoKTtcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKiBAZGVzY3JpcHRpb24gRm9yIGludGVybmFsIHVzZSBvbmx5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gybVpbnN0YW50aWF0ZTxUID0gdW5rbm93bj4odHlwZTogVHlwZTxUPiwgcmVzb2x2ZURlcGVuZGVuY3k6IFJlc29sdmVEZXBlbmRlbmN5Rm4gfCB1bmRlZmluZWQpOiBUIHtcblx0cmV0dXJuIGluc3RhbnRpYXRlPFQ+KHR5cGUsIHJlc29sdmVEZXBlbmRlbmN5KTtcbn1cbiJdfQ==