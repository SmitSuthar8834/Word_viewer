{"ast":null,"code":"var documents = require(\"../documents\");\nvar Result = require(\"../results\").Result;\nfunction createCommentsReader(bodyReader) {\n  function readCommentsXml(element) {\n    return Result.combine(element.getElementsByTagName(\"w:comment\").map(readCommentElement));\n  }\n  function readCommentElement(element) {\n    var id = element.attributes[\"w:id\"];\n    function readOptionalAttribute(name) {\n      return (element.attributes[name] || \"\").trim() || null;\n    }\n    return bodyReader.readXmlElements(element.children).map(function (body) {\n      return documents.comment({\n        commentId: id,\n        body: body,\n        authorName: readOptionalAttribute(\"w:author\"),\n        authorInitials: readOptionalAttribute(\"w:initials\")\n      });\n    });\n  }\n  return readCommentsXml;\n}\nexports.createCommentsReader = createCommentsReader;","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}